<html>
<header>
	<link rel="stylesheet" href="./font-awesome-4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet" href="./style.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
	<script>
		$(document).ready(function(){
			console.log("ready")
			var i = 0
    		$('#new_task').click(function(){

	    		// get the task name from the input field
	    		var new_task = $('#input').val()
	    		// clear the input field
	    		$('#input').val('')

	    		$("<p><div><span>" + new_task + "</span><span data-done='false' id ='Timer" + i + "' data-time = '" + new Date + " ' ></span></div>").insertAfter('#new_task'); 
	    		i++;
	    		// create timer for each task

	    		$('[data-time]').each(function() {
	    			var $this = $(this);
	    			var start = $(this).data('time');
	    			var done = $(this).data('done')

					console.log(done);

	    			if (done == true){
	    				// continue;
	    				console.log("Entered")
	    			}
	    			else {

						  	console.log($this)
						  	// console.log(start);
						  	setInterval(function() {
				    			console.log("Enter setInterval")
				    			var timeNow = new Date;
				    			console.log("Time Now")
				    			var timeNow_ = timeNow.getTime()
				    			console.log(timeNow_)
				    			console.log("Time Start")
				    			// transfer the starting time back to type Date
				    			var start_ = new Date(start)
				    			console.log(start_.getTime())
				    			var diff = timeNow_ - start_
				    			console.log("diff")
				    			// console.log(diff)

				    			$this.html(Math.floor( (diff) / 1000 ) + " Seconds <i id='clickablePause' class='fa fa-pause-circle-o fa-2x' aria-hidden='true'></i> <i id='clickableDone' class='fa fa-check-circle fa-2x' aria-hidden='true'></i>" );
							}, 1000);
						  }
	    		
	    		});
			//close onClick of new task
			});

		

		});
	</script>
</header>

<body>
	<div id ="header">
		<i class="fa fa-clock-o fa-2x" aria-hidden="true"></i> TASK TIMER

	</div>
	<div id ="content">
		<input type="text" placeholder="Enter task name" id="input"></input> <span id='new_task'><i class="fa fa-play-circle fa-3x" aria-hidden="true"></i></span>
	</div>


</body>
</html>